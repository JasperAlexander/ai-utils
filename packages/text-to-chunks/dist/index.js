(()=>{"use strict";var t={};(()=>{var n=t;function e(t,n){const e=t.join(n).trim();return""===e?null:e}function o(t,n,o,s){const l=[],u=[];let c=0;for(const h of t){const t=h.length;if(c+t>=o&&(c>o&&console.warn(`Created a chunk of size ${c}, +\nwhich is longer than the specified ${o}`),u.length>0)){const h=e(u,n);for(null!==h&&l.push(h);c>s||c+t>o&&c>0;)c-=u[0].length,u.shift()}u.push(h),c+=t}const h=e(u,n);return null!==h&&l.push(h),l}Object.defineProperty(n,"__esModule",{value:!0}),n.textToChunks=void 0,n.textToChunks=function t({text:n,chunkSize:e=1e3,chunkOverlap:s=200}){const l=[],u=["\n\n","\n"," ",""];let c,h=u[u.length-1];for(const t of u){if(""===t){h=t;break}if(n.includes(t)){h=t;break}}c=h?n.split(h):n.split("");let i=[];for(const n of c)if(n.length<e)i.push(n);else{if(i.length){const t=o(i,h,e,s);l.push(...t),i=[]}const u=t({text:n});l.push(...u)}if(i.length){const t=o(i,h,e,s);l.push(...t)}return l}})(),module.exports=t})();